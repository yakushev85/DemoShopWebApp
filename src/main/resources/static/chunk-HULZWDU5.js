import{$a as I,Fa as C,H as s,J as a,L as b,M as l,Ma as N,Qa as g,R as d,Ra as h,Va as y,Wa as f,Xa as G,Y as o,Ya as M,Z as n,Za as U,_ as p,ab as R,ba as P,eb as j,fb as E,gb as D,la as u,ma as S,na as F,u as m}from"./chunk-TCKV3CHR.js";var c=class t{constructor(i,r,e){this.router=i;this.userService=r;this.fb=e;this.error="";this.isSubmitting=!1,this.resetPasswordForm=this.fb.group({currentPassword:["",f.required],newPassword:["",f.required],reNewPassword:["",f.required]}),this.userService.currentUser.subscribe(v=>{this.currentUser=v})}ngOnInit(){}submitForm(){this.isSubmitting=!0,this.userService.resetPassword(this.resetPasswordForm.value).subscribe({next:i=>{this.router.navigateByUrl("/")},error:i=>{this.error="Wrong current password.",console.log(i)},complete:()=>{this.isSubmitting=!1}})}static{this.\u0275fac=function(r){return new(r||t)(a(N),a(h),a(j))}}static{this.\u0275cmp=b({type:t,selectors:[["app-profile-general"]],standalone:!1,decls:19,vars:5,consts:[[1,"auth-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"p-2","error-text"],[1,"p-2"],[3,"ngSubmit","formGroup"],[3,"disabled"],[1,"form-group","p-2"],["formControlName","currentPassword","placeholder","Current password","type","password",1,"form-control","form-control-md"],["formControlName","newPassword","placeholder","New password","type","password",1,"form-control","form-control-md"],["formControlName","reNewPassword","placeholder","Repeat new password","type","password",1,"form-control","form-control-md"],["type","submit",1,"btn","btn-md","btn-primary",3,"disabled"]],template:function(r,e){r&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),u(5),n(),o(6,"p",5),u(7),n(),o(8,"form",6),P("ngSubmit",function(){return e.submitForm()}),o(9,"fieldset",7)(10,"fieldset",8),p(11,"input",9),n(),o(12,"fieldset",8),p(13,"input",10),n(),o(14,"fieldset",8),p(15,"input",11),n(),o(16,"div",5)(17,"button",12),u(18," Apply New Password "),n()()()()()()()()),r&2&&(s(5),S(e.error),s(2),F("Username: ",e.currentUser==null?null:e.currentUser.username,""),s(),d("formGroup",e.resetPasswordForm),s(),d("disabled",e.isSubmitting),s(8),d("disabled",!(e.resetPasswordForm.valid&&e.resetPasswordForm.value.newPassword==e.resetPasswordForm.value.reNewPassword)))},dependencies:[U,y,G,M,I,R],styles:[".error-text[_ngcontent-%COMP%]{color:#ff2020}"]})}};var O=[{path:"general",component:c}],w=class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=l({type:t})}static{this.\u0275inj=m({imports:[g.forChild(O),g]})}};var B=class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=l({type:t})}static{this.\u0275inj=m({imports:[C,E,w,D]})}};export{B as ProfileModule};
